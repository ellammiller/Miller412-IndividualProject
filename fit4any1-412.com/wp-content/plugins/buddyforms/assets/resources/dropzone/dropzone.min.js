'use strict';var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1;i.configurable=!0;if('value' in i)i.writable=!0;Object.defineProperty(e,i.key,i)}};return function(t,i,n){if(i)e(t.prototype,i);if(n)e(t,n);return t}}();function _possibleConstructorReturn(e,t){if(!e){throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called')};return t&&(typeof t==='object'||typeof t==='function')?t:e};function _inherits(e,t){if(typeof t!=='function'&&t!==null){throw new TypeError('Super expression must either be null or a function, not '+typeof t)};e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t};function _classCallCheck(e,t){if(!(e instanceof t)){throw new TypeError('Cannot call a class as a function')}};var Emitter=function(){function e(){_classCallCheck(this,e)};_createClass(e,[{key:'on',value:function(e,t){this._callbacks=this._callbacks||{};if(!this._callbacks[e]){this._callbacks[e]=[]};this._callbacks[e].push(t);return this}},{key:'emit',value:function(e){this._callbacks=this._callbacks||{};var s=this._callbacks[e];if(s){for(var a=arguments.length,l=Array(a>1?a-1:0),n=1;n<a;n++){l[n-1]=arguments[n]};for(var t=s,o=!0,i=0,t=o?t:t[Symbol.iterator]();;){var r;if(o){if(i>=t.length)break;r=t[i++]}
else{i=t.next();if(i.done)break;r=i.value};var u=r;u.apply(this,l)}};return this}},{key:'off',value:function(e,t){if(!this._callbacks||arguments.length===0){this._callbacks={};return this};var n=this._callbacks[e];if(!n){return this};if(arguments.length===1){delete this._callbacks[e];return this};for(var i=0;i<n.length;i++){var r=n[i];if(r===t){n.splice(i,1);break}};return this}}]);return e}(),Dropzone=function(e){_inherits(t,e);_createClass(t,null,[{key:'initClass',value:function(){this.prototype.Emitter=Emitter;this.prototype.events=['drop','dragstart','dragend','dragenter','dragover','dragleave','addedfile','addedfiles','removedfile','thumbnail','error','errormultiple','processing','processingmultiple','uploadprogress','totaluploadprogress','sending','sendingmultiple','success','successmultiple','canceled','canceledmultiple','complete','completemultiple','reset','maxfilesexceeded','maxfilesreached','queuecomplete'];this.prototype.defaultOptions={url:null,method:'post',withCredentials:!1,timeout:30000,parallelUploads:2,uploadMultiple:!1,chunking:!1,forceChunking:!1,chunkSize:2000000,parallelChunkUploads:!1,retryChunks:!1,retryChunksLimit:3,maxFilesize:256,paramName:'file',createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,thumbnailMethod:'crop',resizeWidth:null,resizeHeight:null,resizeMimeType:null,resizeQuality:0.8,resizeMethod:'contain',filesizeBase:1000,maxFiles:null,headers:null,clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,hiddenInputContainer:'body',capture:null,renameFilename:null,renameFile:null,forceFallback:!1,dictDefaultMessage:'Drop files here to upload',dictFallbackMessage:'Your browser does not support drag\'n\'drop file uploads.',dictFallbackText:'Please use the fallback form below to upload your files like in the olden days.',dictFileTooBig:'File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.',dictInvalidFileType:'You can\'t upload files of this type.',dictResponseError:'Server responded with {{statusCode}} code.',dictCancelUpload:'Cancel upload',dictCancelUploadConfirmation:'Are you sure you want to cancel this upload?',dictRemoveFile:'Remove file',dictRemoveFileConfirmation:null,dictMaxFilesExceeded:'You can not upload any more files.',dictFileSizeUnits:{tb:'TB',gb:'GB',mb:'MB',kb:'KB',b:'b'},init:function(){},params:function(e,t,i){if(i){return{dzuuid:i.file.upload.uuid,dzchunkindex:i.index,dztotalfilesize:i.file.size,dzchunksize:this.options.chunkSize,dztotalchunkcount:i.file.upload.totalChunkCount,dzchunkbyteoffset:i.index*this.options.chunkSize}}},accept:function(e,t){return t()},chunksUploaded:function(e,t){t()},fallback:function(){var r=void 0;this.element.className=this.element.className+' dz-browser-not-supported';for(var e=this.element.getElementsByTagName('div'),l=!0,n=0,e=l?e:e[Symbol.iterator]();;){var o;if(l){if(n>=e.length)break;o=e[n++]}
else{n=e.next();if(n.done)break;o=n.value};var a=o;if(/(^| )dz-message($| )/.test(a.className)){r=a;a.className='dz-message';break}};if(!r){r=t.createElement('<div class="dz-message"><span></span></div>');this.element.appendChild(r)};var i=r.getElementsByTagName('span')[0];if(i){if(i.textContent!=null){i.textContent=this.options.dictFallbackMessage}
else if(i.innerText!=null){i.innerText=this.options.dictFallbackMessage}};return this.element.appendChild(this.getFallbackForm())},resize:function(e,t,i,r){var n={srcX:0,srcY:0,srcWidth:e.width,srcHeight:e.height};var a=e.width/e.height;if(t==null&&i==null){t=n.srcWidth;i=n.srcHeight}
else if(t==null){t=i*a}
else if(i==null){i=t/a};t=Math.min(t,n.srcWidth);i=Math.min(i,n.srcHeight);var o=t/i;if(n.srcWidth>t||n.srcHeight>i){if(r==='crop'){if(a>o){n.srcHeight=e.height;n.srcWidth=n.srcHeight*o}
else{n.srcWidth=e.width;n.srcHeight=n.srcWidth/o}}
else if(r==='contain'){if(a>o){i=t/a}
else{t=i*a}}
else{throw new Error('Unknown resizeMethod \''+r+'\'')}};n.srcX=(e.width-n.srcWidth)/2;n.srcY=(e.height-n.srcHeight)/2;n.trgWidth=t;n.trgHeight=i;return n},transformFile:function(e,t){if((this.options.resizeWidth||this.options.resizeHeight)&&e.type.match(/image.*/)){return this.resizeImage(e,this.options.resizeWidth,this.options.resizeHeight,this.options.resizeMethod,t)}
else{return t(e)}},previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-image"><img data-dz-thumbnail /></div>\n  <div class="dz-details">\n    <div class="dz-size"><span data-dz-size></span></div>\n    <div class="dz-filename"><span data-dz-name></span></div>\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n  <div class="dz-success-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Check</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <path d="M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" stroke-opacity="0.198794158" stroke="#747474" fill-opacity="0.816519475" fill="#FFFFFF" sketch:type="MSShapeGroup"></path>\n      </g>\n    </svg>\n  </div>\n  <div class="dz-error-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Error</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="Check-+-Oval-2" sketch:type="MSLayerGroup" stroke="#747474" stroke-opacity="0.198794158" fill="#FFFFFF" fill-opacity="0.816519475">\n          <path d="M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" sketch:type="MSShapeGroup"></path>\n        </g>\n      </g>\n    </svg>\n  </div>\n</div>',drop:function(e){return this.element.classList.remove('dz-drag-hover')},dragstart:function(e){},dragend:function(e){return this.element.classList.remove('dz-drag-hover')},dragenter:function(e){return this.element.classList.add('dz-drag-hover')},dragover:function(e){return this.element.classList.add('dz-drag-hover')},dragleave:function(e){return this.element.classList.remove('dz-drag-hover')},paste:function(e){},reset:function(){return this.element.classList.remove('dz-started')},addedfile:function(e){var a=this;if(this.element===this.previewsContainer){this.element.classList.add('dz-started')};if(this.previewsContainer){e.previewElement=t.createElement(this.options.previewTemplate.trim());e.previewTemplate=e.previewElement;this.previewsContainer.appendChild(e.previewElement);for(var r=e.previewElement.querySelectorAll('[data-dz-name]'),h=!0,s=0,r=h?r:r[Symbol.iterator]();;){var c;if(h){if(s>=r.length)break;c=r[s++]}
else{s=r.next();if(s.done)break;c=s.value};var u=c;u.textContent=e.name};for(var n=e.previewElement.querySelectorAll('[data-dz-size]'),f=!0,l=0,n=f?n:n[Symbol.iterator]();;){if(f){if(l>=n.length)break;u=n[l++]}
else{l=n.next();if(l.done)break;u=l.value};u.innerHTML=this.filesize(e.size)};if(this.options.addRemoveLinks){e._removeLink=t.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'+this.options.dictRemoveFile+'</a>');e.previewElement.appendChild(e._removeLink)};var v=function(i){i.preventDefault();i.stopPropagation();if(e.status===t.UPLOADING){return t.confirm(a.options.dictCancelUploadConfirmation,function(){return a.removeFile(e)})}
else{if(a.options.dictRemoveFileConfirmation){return t.confirm(a.options.dictRemoveFileConfirmation,function(){return a.removeFile(e)})}
else{return a.removeFile(e)}}};for(var i=e.previewElement.querySelectorAll('[data-dz-remove]'),p=!0,o=0,i=p?i:i[Symbol.iterator]();;){var d;if(p){if(o>=i.length)break;d=i[o++]}
else{o=i.next();if(o.done)break;d=o.value};var m=d;m.addEventListener('click',v)}}},removedfile:function(e){if(e.previewElement!=null&&e.previewElement.parentNode!=null){e.previewElement.parentNode.removeChild(e.previewElement)};return this._updateMaxFilesReachedClass()},thumbnail:function(e,t){if(e.previewElement){e.previewElement.classList.remove('dz-file-preview');for(var i=e.previewElement.querySelectorAll('[data-dz-thumbnail]'),o=!0,n=0,i=o?i:i[Symbol.iterator]();;){var r;if(o){if(n>=i.length)break;r=i[n++]}
else{n=i.next();if(n.done)break;r=n.value};var a=r;a.alt=e.name;a.src=t};return setTimeout(function(){return e.previewElement.classList.add('dz-image-preview')},1)}},error:function(e,t){if(e.previewElement){e.previewElement.classList.add('dz-error');if(typeof t!=='String'&&t.error){t=t.error};for(var i=e.previewElement.querySelectorAll('[data-dz-errormessage]'),a=!0,n=0,i=a?i:i[Symbol.iterator]();;){var r;if(a){if(n>=i.length)break;r=i[n++]}
else{n=i.next();if(n.done)break;r=n.value};var o=r;o.textContent=t}}},errormultiple:function(){},processing:function(e){if(e.previewElement){e.previewElement.classList.add('dz-processing');if(e._removeLink){return e._removeLink.textContent=this.options.dictCancelUpload}}},processingmultiple:function(){},uploadprogress:function(e,t,i){if(e.previewElement){for(var n=e.previewElement.querySelectorAll('[data-dz-uploadprogress]'),l=!0,r=0,n=l?n:n[Symbol.iterator]();;){var o;if(l){if(r>=n.length)break;o=n[r++]}
else{r=n.next();if(r.done)break;o=r.value};var a=o;a.nodeName==='PROGRESS'?a.value=t:a.style.width=t+'%'}}},totaluploadprogress:function(){},sending:function(){},sendingmultiple:function(){},success:function(e){if(e.previewElement){return e.previewElement.classList.add('dz-success')}},successmultiple:function(){},canceled:function(e){return this.emit('error',e,'Upload canceled.')},canceledmultiple:function(){},complete:function(e){if(e._removeLink){e._removeLink.textContent=this.options.dictRemoveFile};if(e.previewElement){return e.previewElement.classList.add('dz-complete')}},completemultiple:function(){},maxfilesexceeded:function(){},maxfilesreached:function(){},queuecomplete:function(){},addedfiles:function(){}};this.prototype._thumbnailQueue=[];this.prototype._processingThumbnail=!1}},{key:'extend',value:function(e){for(var a=arguments.length,u=Array(a>1?a-1:0),n=1;n<a;n++){u[n-1]=arguments[n]};for(var t=u,s=!0,i=0,t=s?t:t[Symbol.iterator]();;){var r;if(s){if(i>=t.length)break;r=t[i++]}
else{i=t.next();if(i.done)break;r=i.value};var l=r;for(var o in l){var d=l[o];e[o]=d}};return e}}]);function t(e,n){_classCallCheck(this,t);var i=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),r=void 0,o=void 0;i.element=e;i.version=t.version;i.defaultOptions.previewTemplate=i.defaultOptions.previewTemplate.replace(/\n*/g,'');i.clickableElements=[];i.listeners=[];i.files=[];if(typeof i.element==='string'){i.element=document.querySelector(i.element)};if(!i.element||i.element.nodeType==null){throw new Error('Invalid dropzone element.')};if(i.element.dropzone){throw new Error('Dropzone already attached.')};t.instances.push(i);i.element.dropzone=i;var l=(o=t.optionsForElement(i.element))!=null?o:{};i.options=t.extend({},i.defaultOptions,l,n!=null?n:{});if(i.options.forceFallback||!t.isBrowserSupported()){var a;return a=i.options.fallback.call(i),_possibleConstructorReturn(i,a)};if(i.options.url==null){i.options.url=i.element.getAttribute('action')};if(!i.options.url){throw new Error('No URL provided.')};if(i.options.acceptedFiles&&i.options.acceptedMimeTypes){throw new Error('You can\'t provide both \'acceptedFiles\' and \'acceptedMimeTypes\'. \'acceptedMimeTypes\' is deprecated.')};if(i.options.uploadMultiple&&i.options.chunking){throw new Error('You cannot set both: uploadMultiple and chunking.')};if(i.options.acceptedMimeTypes){i.options.acceptedFiles=i.options.acceptedMimeTypes;delete i.options.acceptedMimeTypes};if(i.options.renameFilename!=null){i.options.renameFile=function(e){return i.options.renameFilename.call(i,e.name,e)}};i.options.method=i.options.method.toUpperCase();if((r=i.getExistingFallback())&&r.parentNode){r.parentNode.removeChild(r)};if(i.options.previewsContainer!==!1){if(i.options.previewsContainer){i.previewsContainer=t.getElement(i.options.previewsContainer,'previewsContainer')}
else{i.previewsContainer=i.element}};if(i.options.clickable){if(i.options.clickable===!0){i.clickableElements=[i.element]}
else{i.clickableElements=t.getElements(i.options.clickable,'clickable')}};i.init();return i};_createClass(t,[{key:'getAcceptedFiles',value:function(){return this.files.filter(function(e){return e.accepted}).map(function(e){return e})}},{key:'getRejectedFiles',value:function(){return this.files.filter(function(e){return!e.accepted}).map(function(e){return e})}},{key:'getFilesWithStatus',value:function(e){return this.files.filter(function(t){return t.status===e}).map(function(e){return e})}},{key:'getQueuedFiles',value:function(){return this.getFilesWithStatus(t.QUEUED)}},{key:'getUploadingFiles',value:function(){return this.getFilesWithStatus(t.UPLOADING)}},{key:'getAddedFiles',value:function(){return this.getFilesWithStatus(t.ADDED)}},{key:'getActiveFiles',value:function(){return this.files.filter(function(e){return e.status===t.UPLOADING||e.status===t.QUEUED}).map(function(e){return e})}},{key:'init',value:function(){var e=this;if(this.element.tagName==='form'){this.element.setAttribute('enctype','multipart/form-data')};if(this.element.classList.contains('dropzone')&&!this.element.querySelector('.dz-message')){this.element.appendChild(t.createElement('<div class="dz-default dz-message"><span>'+this.options.dictDefaultMessage+'</span></div>'))};if(this.clickableElements.length){var s=function u(){if(e.hiddenFileInput){e.hiddenFileInput.parentNode.removeChild(e.hiddenFileInput)};e.hiddenFileInput=document.createElement('input');e.hiddenFileInput.setAttribute('type','file');if(e.options.maxFiles===null||e.options.maxFiles>1){e.hiddenFileInput.setAttribute('multiple','multiple')};e.hiddenFileInput.className='dz-hidden-input';if(e.options.acceptedFiles!==null){e.hiddenFileInput.setAttribute('accept',e.options.acceptedFiles)};if(e.options.capture!==null){e.hiddenFileInput.setAttribute('capture',e.options.capture)};e.hiddenFileInput.style.visibility='hidden';e.hiddenFileInput.style.position='absolute';e.hiddenFileInput.style.top='0';e.hiddenFileInput.style.left='0';e.hiddenFileInput.style.height='0';e.hiddenFileInput.style.width='0';document.querySelector(e.options.hiddenInputContainer).appendChild(e.hiddenFileInput);return e.hiddenFileInput.addEventListener('change',function(){var r=e.hiddenFileInput.files;if(r.length){for(var t=r,a=!0,i=0,t=a?t:t[Symbol.iterator]();;){var n;if(a){if(i>=t.length)break;n=t[i++]}
else{i=t.next();if(i.done)break;n=i.value};var o=n;e.addFile(o)}};e.emit('addedfiles',r);return u()})};s()};this.URL=window.URL!==null?window.URL:window.webkitURL;for(var i=this.events,l=!0,n=0,i=l?i:i[Symbol.iterator]();;){var a;if(l){if(n>=i.length)break;a=i[n++]}
else{n=i.next();if(n.done)break;a=n.value};var o=a;this.on(o,this.options[o])};this.on('uploadprogress',function(){return e.updateTotalUploadProgress()});this.on('removedfile',function(){return e.updateTotalUploadProgress()});this.on('canceled',function(t){return e.emit('complete',t)});this.on('complete',function(t){if(e.getAddedFiles().length===0&&e.getUploadingFiles().length===0&&e.getQueuedFiles().length===0){return setTimeout(function(){return e.emit('queuecomplete')},0)}});var r=function(e){e.stopPropagation();if(e.preventDefault){return e.preventDefault()}
else{return e.returnValue=!1}};this.listeners=[{element:this.element,events:{'dragstart':function(t){return e.emit('dragstart',t)},'dragenter':function(t){r(t);return e.emit('dragenter',t)},'dragover':function(t){var n=void 0;try{n=t.dataTransfer.effectAllowed}catch(i){};t.dataTransfer.dropEffect='move'===n||'linkMove'===n?'move':'copy';r(t);return e.emit('dragover',t)},'dragleave':function(t){return e.emit('dragleave',t)},'drop':function(t){r(t);return e.drop(t)},'dragend':function(t){return e.emit('dragend',t)}}}];this.clickableElements.forEach(function(i){return e.listeners.push({element:i,events:{'click':function(n){if(i!==e.element||n.target===e.element||t.elementInside(n.target,e.element.querySelector('.dz-message'))){e.hiddenFileInput.click()};return!0}}})});this.enable();return this.options.init.call(this)}},{key:'destroy',value:function(){this.disable();this.removeAllFiles(!0);if(this.hiddenFileInput!=null?this.hiddenFileInput.parentNode:undefined){this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput);this.hiddenFileInput=null};delete this.element.dropzone;return t.instances.splice(t.instances.indexOf(this),1)}},{key:'updateTotalUploadProgress',value:function(){var n=void 0,r=0,a=0,s=this.getActiveFiles();if(s.length){for(var e=this.getActiveFiles(),l=!0,t=0,e=l?e:e[Symbol.iterator]();;){var i;if(l){if(t>=e.length)break;i=e[t++]}
else{t=e.next();if(t.done)break;i=t.value};var o=i;r+=o.upload.bytesSent;a+=o.upload.total};n=100*r/a}
else{n=100};return this.emit('totaluploadprogress',n,a,r)}},{key:'_getParamName',value:function(e){if(typeof this.options.paramName==='function'){return this.options.paramName(e)}
else{return''+this.options.paramName+(this.options.uploadMultiple?'['+e+']':'')}}},{key:'_renameFile',value:function(e){if(typeof this.options.renameFile!=='function'){return e.name};return this.options.renameFile(e)}},{key:'getFallbackForm',value:function(){var r=void 0,e=void 0;if(r=this.getExistingFallback()){return r};var i='<div class="dz-fallback">';if(this.options.dictFallbackText){i+='<p>'+this.options.dictFallbackText+'</p>'};i+='<input type="file" name="'+this._getParamName(0)+'" '+(this.options.uploadMultiple?'multiple="multiple"':undefined)+' /><input type="submit" value="Upload!"></div>';var n=t.createElement(i);if(this.element.tagName!=='FORM'){e=t.createElement('<form action="'+this.options.url+'" enctype="multipart/form-data" method="'+this.options.method+'"></form>');e.appendChild(n)}
else{this.element.setAttribute('enctype','multipart/form-data');this.element.setAttribute('method',this.options.method)};return e!=null?e:n}},{key:'getExistingFallback',value:function(){var r=function(e){for(var t=e,a=!0,i=0,t=a?t:t[Symbol.iterator]();;){var n;if(a){if(i>=t.length)break;n=t[i++]}
else{i=t.next();if(i.done)break;n=i.value};var r=n;if(/(^| )fallback($| )/.test(r.className)){return r}}},i=['div','form'];for(var e=0;e<i.length;e++){var n=i[e],t;if(t=r(this.element.getElementsByTagName(n))){return t}}}},{key:'setupEventListeners',value:function(){return this.listeners.map(function(e){return function(){var i=[];for(var t in e.events){var n=e.events[t];i.push(e.element.addEventListener(t,n,!1))};return i}()})}},{key:'removeEventListeners',value:function(){return this.listeners.map(function(e){return function(){var i=[];for(var t in e.events){var n=e.events[t];i.push(e.element.removeEventListener(t,n,!1))};return i}()})}},{key:'disable',value:function(){var e=this;this.clickableElements.forEach(function(e){return e.classList.remove('dz-clickable')});this.removeEventListeners();return this.files.map(function(t){return e.cancelUpload(t)})}},{key:'enable',value:function(){this.clickableElements.forEach(function(e){return e.classList.add('dz-clickable')});return this.setupEventListeners()}},{key:'filesize',value:function(e){var i=0,r='b';if(e>0){var n=['tb','gb','mb','kb','b'];for(var t=0;t<n.length;t++){var a=n[t],o=Math.pow(this.options.filesizeBase,4-t)/10;if(e>=o){i=e/Math.pow(this.options.filesizeBase,4-t);r=a;break}};i=Math.round(10*i)/10};return'<strong>'+i+'</strong> '+this.options.dictFileSizeUnits[r]}},{key:'_updateMaxFilesReachedClass',value:function(){if(this.options.maxFiles!=null&&this.getAcceptedFiles().length>=this.options.maxFiles){if(this.getAcceptedFiles().length===this.options.maxFiles){this.emit('maxfilesreached',this.files)};return this.element.classList.add('dz-max-files-reached')}
else{return this.element.classList.remove('dz-max-files-reached')}}},{key:'drop',value:function(e){if(!e.dataTransfer){return};this.emit('drop',e);var i=e.dataTransfer.files;this.emit('addedfiles',i);if(i.length){var t=e.dataTransfer.items;if(t&&t.length&&t[0].webkitGetAsEntry!=null){this._addFilesFromItems(t)}
else{this.handleFiles(i)}}}},{key:'paste',value:function(e){if(__guard__(e!=null?e.clipboardData:undefined,function(e){return e.items})==null){return};this.emit('paste',e);var t=e.clipboardData.items;if(t.length){return this._addFilesFromItems(t)}}},{key:'handleFiles',value:function(e){var t=this;return e.map(function(e){return t.addFile(e)})}},{key:'_addFilesFromItems',value:function(e){var t=this;return function(){var n=[];for(var r=e,s=!0,o=0,r=s?r:r[Symbol.iterator]();;){var l;if(s){if(o>=r.length)break;l=r[o++]}
else{o=r.next();if(o.done)break;l=o.value};var i=l,a;if(i.webkitGetAsEntry!=null&&(a=i.webkitGetAsEntry())){if(a.isFile){n.push(t.addFile(i.getAsFile()))}
else if(a.isDirectory){n.push(t._addFilesFromDirectory(a,a.name))}
else{n.push(undefined)}}
else if(i.getAsFile!=null){if(i.kind==null||i.kind==='file'){n.push(t.addFile(i.getAsFile()))}
else{n.push(undefined)}}
else{n.push(undefined)}};return n}()}},{key:'_addFilesFromDirectory',value:function(e,t){var i=this,n=e.createReader(),r=function(e){return __guardMethod__(console,'log',function(t){return t.log(e)})},a=function o(){return n.readEntries(function(e){if(e.length>0){for(var n=e,s=!0,a=0,n=s?n:n[Symbol.iterator]();;){var l;if(s){if(a>=n.length)break;l=n[a++]}
else{a=n.next();if(a.done)break;l=a.value};var r=l;if(r.isFile){r.file(function(e){if(i.options.ignoreHiddenFiles&&e.name.substring(0,1)==='.'){return};e.fullPath=t+'/'+e.name;return i.addFile(e)})}
else if(r.isDirectory){i._addFilesFromDirectory(r,t+'/'+r.name)}};o()};return null},r)};return a()}},{key:'accept',value:function(e,i){if(e.size>this.options.maxFilesize*1024*1024){return i(this.options.dictFileTooBig.replace('{{filesize}}',Math.round(e.size/1024/10.24)/100).replace('{{maxFilesize}}',this.options.maxFilesize))}
else if(!t.isValidFile(e,this.options.acceptedFiles)){return i(this.options.dictInvalidFileType)}
else if(this.options.maxFiles!=null&&this.getAcceptedFiles().length>=this.options.maxFiles){i(this.options.dictMaxFilesExceeded.replace('{{maxFiles}}',this.options.maxFiles));return this.emit('maxfilesexceeded',e)}
else{return this.options.accept.call(this,e,i)}}},{key:'addFile',value:function(e){var i=this;e.upload={uuid:t.uuidv4(),progress:0,total:e.size,bytesSent:0,filename:this._renameFile(e),chunked:this.options.chunking&&(this.options.forceChunking||e.size>this.options.chunkSize),totalChunkCount:Math.ceil(e.size/this.options.chunkSize)};this.files.push(e);e.status=t.ADDED;this.emit('addedfile',e);this._enqueueThumbnail(e);return this.accept(e,function(t){if(t){e.accepted=!1;i._errorProcessing([e],t)}
else{e.accepted=!0;if(i.options.autoQueue){i.enqueueFile(e)}};return i._updateMaxFilesReachedClass()})}},{key:'enqueueFiles',value:function(e){for(var t=e,r=!0,i=0,t=r?t:t[Symbol.iterator]();;){var n;if(r){if(i>=t.length)break;n=t[i++]}
else{i=t.next();if(i.done)break;n=i.value};var a=n;this.enqueueFile(a)};return null}},{key:'enqueueFile',value:function(e){var i=this;if(e.status===t.ADDED&&e.accepted===!0){e.status=t.QUEUED;if(this.options.autoProcessQueue){return setTimeout(function(){return i.processQueue()},0)}}
else{throw new Error('This file can\'t be queued because it has already been processed or was rejected.')}}},{key:'_enqueueThumbnail',value:function(e){var t=this;if(this.options.createImageThumbnails&&e.type.match(/image.*/)&&e.size<=this.options.maxThumbnailFilesize*1024*1024){this._thumbnailQueue.push(e);return setTimeout(function(){return t._processThumbnailQueue()},0)}}},{key:'_processThumbnailQueue',value:function(){var e=this;if(this._processingThumbnail||this._thumbnailQueue.length===0){return};this._processingThumbnail=!0;var t=this._thumbnailQueue.shift();return this.createThumbnail(t,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.thumbnailMethod,!0,function(i){e.emit('thumbnail',t,i);e._processingThumbnail=!1;return e._processThumbnailQueue()})}},{key:'removeFile',value:function(e){if(e.status===t.UPLOADING){this.cancelUpload(e)};this.files=without(this.files,e);this.emit('removedfile',e);if(this.files.length===0){return this.emit('reset')}}},{key:'removeAllFiles',value:function(e){if(e==null){e=!1};for(var i=this.files.slice(),o=!0,n=0,i=o?i:i[Symbol.iterator]();;){var r;if(o){if(n>=i.length)break;r=i[n++]}
else{n=i.next();if(n.done)break;r=n.value};var a=r;if(a.status!==t.UPLOADING||e){this.removeFile(a)}};return null}},{key:'resizeImage',value:function(e,i,n,r,a){var o=this;return this.createThumbnail(e,i,n,r,!1,function(i,n){if(n===null){return a(e)}
else{var r=o.options.resizeMimeType;if(r==null){r=e.type};var l=n.toDataURL(r,o.options.resizeQuality);if(r==='image/jpeg'||r==='image/jpg'){l=ExifRestore.restore(e.dataURL,l)};return a(t.dataURItoBlob(l))}})}},{key:'createThumbnail',value:function(e,t,i,n,a,r){var l=this,o=new FileReader();o.onload=function(){e.dataURL=o.result;if(e.type==='image/svg+xml'){if(r!=null){r(o.result)};return};return l.createThumbnailFromUrl(e,t,i,n,a,r)};return o.readAsDataURL(e)}},{key:'createThumbnailFromUrl',value:function(e,t,i,a,o,r,l){var s=this,n=document.createElement('img');if(l){n.crossOrigin=l};n.onload=function(){var l=function(e){return e(1)};if(typeof EXIF!=='undefined'&&EXIF!==null&&o){l=function(e){return EXIF.getData(n,function(){return e(EXIF.getTag(this,'Orientation'))})}};return l(function(o){e.width=n.width;e.height=n.height;var l=s.options.resize.call(s,e,t,i,a),d=document.createElement('canvas'),u=d.getContext('2d');d.width=l.trgWidth;d.height=l.trgHeight;if(o>4){d.width=l.trgHeight;d.height=l.trgWidth};switch(o){case 2:u.translate(d.width,0);u.scale(-1,1);break;case 3:u.translate(d.width,d.height);u.rotate(Math.PI);break;case 4:u.translate(0,d.height);u.scale(1,-1);break;case 5:u.rotate(0.5*Math.PI);u.scale(1,-1);break;case 6:u.rotate(0.5*Math.PI);u.translate(0,-d.height);break;case 7:u.rotate(0.5*Math.PI);u.translate(d.width,-d.height);u.scale(-1,1);break;case 8:u.rotate(-0.5*Math.PI);u.translate(-d.width,0);break};drawImageIOSFix(u,n,l.srcX!=null?l.srcX:0,l.srcY!=null?l.srcY:0,l.srcWidth,l.srcHeight,l.trgX!=null?l.trgX:0,l.trgY!=null?l.trgY:0,l.trgWidth,l.trgHeight);var c=d.toDataURL('image/png');if(r!=null){return r(c,d)}})};if(r!=null){n.onerror=r};return n.src=e.dataURL}},{key:'processQueue',value:function(){var t=this.options.parallelUploads,i=this.getUploadingFiles().length,n=i;if(i>=t){return};var e=this.getQueuedFiles();if(!(e.length>0)){return};if(this.options.uploadMultiple){return this.processFiles(e.slice(0,t-i))}
else{while(n<t){if(!e.length){return};this.processFile(e.shift());n++}}}},{key:'processFile',value:function(e){return this.processFiles([e])}},{key:'processFiles',value:function(e){for(var i=e,o=!0,n=0,i=o?i:i[Symbol.iterator]();;){var a;if(o){if(n>=i.length)break;a=i[n++]}
else{n=i.next();if(n.done)break;a=n.value};var r=a;r.processing=!0;r.status=t.UPLOADING;this.emit('processing',r)};if(this.options.uploadMultiple){this.emit('processingmultiple',e)};return this.uploadFiles(e)}},{key:'_getFilesWithXhr',value:function(e){var t=void 0;return t=this.files.filter(function(t){return t.xhr===e}).map(function(e){return e})}},{key:'cancelUpload',value:function(e){if(e.status===t.UPLOADING){var s=this._getFilesWithXhr(e.xhr);for(var n=s,d=!0,a=0,n=d?n:n[Symbol.iterator]();;){var l;if(d){if(a>=n.length)break;l=n[a++]}
else{a=n.next();if(a.done)break;l=a.value};var p=l;p.status=t.CANCELED};if(typeof e.xhr!=='undefined'){e.xhr.abort()};for(var i=s,u=!0,r=0,i=u?i:i[Symbol.iterator]();;){var o;if(u){if(r>=i.length)break;o=i[r++]}
else{r=i.next();if(r.done)break;o=r.value};var c=o;this.emit('canceled',c)};if(this.options.uploadMultiple){this.emit('canceledmultiple',s)}}
else if(e.status===t.ADDED||e.status===t.QUEUED){e.status=t.CANCELED;this.emit('canceled',e);if(this.options.uploadMultiple){this.emit('canceledmultiple',[e])}};if(this.options.autoProcessQueue){return this.processQueue()}}},{key:'resolveOption',value:function(e){if(typeof e==='function'){for(var i=arguments.length,n=Array(i>1?i-1:0),t=1;t<i;t++){n[t-1]=arguments[t]};return e.apply(this,n)};return e}},{key:'uploadFile',value:function(e){return this.uploadFiles([e])}},{key:'uploadFiles',value:function(e){var i=this;this._transformFiles(e,function(n){if(e[0].upload.chunked){var r=e[0],l=n[0],d=0;r.upload.chunks=[];var o=function(){var n=0;while(r.upload.chunks[n]!==undefined){n++};if(n>=r.upload.totalChunkCount)return;d++;var a=n*i.options.chunkSize,o=Math.min(a+i.options.chunkSize,r.size),s={name:i._getParamName(0),data:l.webkitSlice?l.webkitSlice(a,o):l.slice(a,o),filename:r.upload.filename,chunkIndex:n};r.upload.chunks[n]={file:r,index:n,dataBlock:s,status:t.UPLOADING,progress:0,retries:0};i._uploadData(e,[s])};r.upload.finishedChunkUpload=function(n){var l=!0;n.status=t.SUCCESS;n.dataBlock=null;for(var a=0;a<r.upload.totalChunkCount;a++){if(r.upload.chunks[a]===undefined){return o()};if(r.upload.chunks[a].status!==t.SUCCESS){l=!1}};if(l){i.options.chunksUploaded(r,function(){i._finished(e,'',null)})}};if(i.options.parallelChunkUploads){for(var u=0;u<r.upload.totalChunkCount;u++){o()}}
else{o()}}
else{var s=[];for(var a=0;a<e.length;a++){s[a]={name:i._getParamName(a),data:n[a],filename:e[a].upload.filename}};i._uploadData(e,s)}})}},{key:'_getChunk',value:function(e,t){for(var i=0;i<e.upload.totalChunkCount;i++){if(e.upload.chunks[i]!==undefined&&e.upload.chunks[i].xhr===t){return e.upload.chunks[i]}}}},{key:'_uploadData',value:function(e,i){var m=this,n=new XMLHttpRequest();for(var o=e,y=!0,u=0,o=y?o:o[Symbol.iterator]();;){var h;if(y){if(u>=o.length)break;h=o[u++]}
else{u=o.next();if(u.done)break;h=u.value};var C=h;C.xhr=n};if(e[0].upload.chunked){e[0].upload.chunks[i[0].chunkIndex].xhr=n};var E=this.resolveOption(this.options.method,e),z=this.resolveOption(this.options.url,e);n.open(E,z,!0);n.timeout=this.resolveOption(this.options.timeout,e);n.withCredentials=!!this.options.withCredentials;n.onload=function(t){m._finishedUploading(e,n,t)};n.onerror=function(){m._handleUploadError(e,n)};var x=n.upload!=null?n.upload:n;x.onprogress=function(t){return m._updateFilesUploadProgress(e,n,t)};var f={'Accept':'application/json','Cache-Control':'no-cache','X-Requested-With':'XMLHttpRequest'};if(this.options.headers){t.extend(f,this.options.headers)};for(var b in f){var k=f[b];if(k){n.setRequestHeader(b,k)}};var a=new FormData();if(this.options.params){var s=this.options.params;if(typeof s==='function'){s=s.call(this,e,n,e[0].upload.chunked?this._getChunk(e[0],n):null)};for(var g in s){var w=s[g];a.append(g,w)}};for(var r=e,v=!0,l=0,r=v?r:r[Symbol.iterator]();;){var p;if(v){if(l>=r.length)break;p=r[l++]}
else{l=r.next();if(l.done)break;p=l.value};var F=p;this.emit('sending',F,n,a)};if(this.options.uploadMultiple){this.emit('sendingmultiple',e,n,a)};this._addFormElementData(a);for(var c=0;c<i.length;c++){var d=i[c];a.append(d.name,d.data,d.filename)};this.submitRequest(n,a,e)}},{key:'_transformFiles',value:function(e,t){var n=this,r=[],a=0,o=function(i){n.options.transformFile.call(n,e[i],function(n){r[i]=n;if(++a===e.length){t(r)}})};for(var i=0;i<e.length;i++){o(i)}}},{key:'_addFormElementData',value:function(e){if(this.element.tagName==='FORM'){for(var r=this.element.querySelectorAll('input, textarea, select, button'),p=!0,o=0,r=p?r:r[Symbol.iterator]();;){var u;if(p){if(o>=r.length)break;u=r[o++]}
else{o=r.next();if(o.done)break;u=o.value};var t=u,l=t.getAttribute('name'),n=t.getAttribute('type');if(n)n=n.toLowerCase();if(typeof l==='undefined'||l===null)continue;if(t.tagName==='SELECT'&&t.hasAttribute('multiple')){for(var i=t.options,c=!0,a=0,i=c?i:i[Symbol.iterator]();;){var s;if(c){if(a>=i.length)break;s=i[a++]}
else{a=i.next();if(a.done)break;s=a.value};var d=s;if(d.selected){e.append(l,d.value)}}}
else if(!n||n!=='checkbox'&&n!=='radio'||t.checked){e.append(l,t.value)}}}}},{key:'_updateFilesUploadProgress',value:function(e,t,i){var d=void 0;if(typeof i!=='undefined'){d=100*i.loaded/i.total;if(e[0].upload.chunked){var n=e[0],F=this._getChunk(n,t);F.progress=d;F.total=i.total;F.bytesSent=i.loaded;var D=0,L=void 0,A=void 0;n.upload.progress=0;n.upload.total=0;n.upload.bytesSent=0;for(var r=0;r<n.upload.totalChunkCount;r++){if(n.upload.chunks[r]!==undefined&&n.upload.chunks[r].progress!==undefined){n.upload.progress+=n.upload.chunks[r].progress;n.upload.total+=n.upload.chunks[r].total;n.upload.bytesSent+=n.upload.chunks[r].bytesSent}};n.upload.progress=n.upload.progress/n.upload.totalChunkCount}
else{for(var u=e,S=!0,h=0,u=S?u:u[Symbol.iterator]();;){var y;if(S){if(h>=u.length)break;y=u[h++]}
else{h=u.next();if(h.done)break;y=h.value};var b=y;b.upload.progress=d;b.upload.total=i.total;b.upload.bytesSent=i.loaded}};for(var s=e,C=!0,f=0,s=C?s:s[Symbol.iterator]();;){var k;if(C){if(f>=s.length)break;k=s[f++]}
else{f=s.next();if(f.done)break;k=f.value};var g=k;this.emit('uploadprogress',g,g.upload.progress,g.upload.bytesSent)}}
else{var z=!0;d=100;for(var l=e,E=!0,p=0,l=E?l:l[Symbol.iterator]();;){var v;if(E){if(p>=l.length)break;v=l[p++]}
else{p=l.next();if(p.done)break;v=p.value};var o=v;if(o.upload.progress!==100||o.upload.bytesSent!==o.upload.total){z=!1};o.upload.progress=d;o.upload.bytesSent=o.upload.total};if(z){return};for(var a=e,x=!0,c=0,a=x?a:a[Symbol.iterator]();;){var m;if(x){if(c>=a.length)break;m=a[c++]}
else{c=a.next();if(c.done)break;m=c.value};var w=m;this.emit('uploadprogress',w,d,w.upload.bytesSent)}}}},{key:'_finishedUploading',value:function(e,i,n){var r=void 0;if(e[0].status===t.CANCELED){return};if(i.readyState!==4){return};if(i.responseType!=='arraybuffer'&&i.responseType!=='blob'){r=i.responseText;if(i.getResponseHeader('content-type')&&~i.getResponseHeader('content-type').indexOf('application/json')){try{r=JSON.parse(r)}catch(a){n=a;r='Invalid JSON response from server.'}}};this._updateFilesUploadProgress(e);if(!(200<=i.status&&i.status<300)){this._handleUploadError(e,i,r)}
else{if(e[0].upload.chunked){e[0].upload.finishedChunkUpload(this._getChunk(e[0],i))}
else{this._finished(e,r,n)}}}},{key:'_handleUploadError',value:function(e,i,n){if(e[0].status===t.CANCELED){return};if(e[0].upload.chunked&&this.options.retryChunks){var s=this._getChunk(e[0],i);if(s.retries++<this.options.retryChunksLimit){this._uploadData(e,[s.dataBlock]);return}
else{console.warn('Retried this chunk too often. Giving up.')}};for(var r=e,l=!0,a=0,r=l?r:r[Symbol.iterator]();;){var o;if(l){if(a>=r.length)break;o=r[a++]}
else{a=r.next();if(a.done)break;o=a.value};var u=o;this._errorProcessing(e,n||this.options.dictResponseError.replace('{{statusCode}}',i.status),i)}}},{key:'submitRequest',value:function(e,t,i){e.send(t)}},{key:'_finished',value:function(e,i,n){for(var r=e,s=!0,a=0,r=s?r:r[Symbol.iterator]();;){var l;if(s){if(a>=r.length)break;l=r[a++]}
else{a=r.next();if(a.done)break;l=a.value};var o=l;o.status=t.SUCCESS;this.emit('success',o,i,n);this.emit('complete',o)};if(this.options.uploadMultiple){this.emit('successmultiple',e,i,n);this.emit('completemultiple',e)};if(this.options.autoProcessQueue){return this.processQueue()}}},{key:'_errorProcessing',value:function(e,i,n){for(var r=e,s=!0,a=0,r=s?r:r[Symbol.iterator]();;){var l;if(s){if(a>=r.length)break;l=r[a++]}
else{a=r.next();if(a.done)break;l=a.value};var o=l;o.status=t.ERROR;this.emit('error',o,i,n);this.emit('complete',o)};if(this.options.uploadMultiple){this.emit('errormultiple',e,i,n);this.emit('completemultiple',e)};if(this.options.autoProcessQueue){return this.processQueue()}}}],[{key:'uuidv4',value:function(){return'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g,function(e){var t=Math.random()*16|0,i=e==='x'?t:t&0x3|0x8;return i.toString(16)})}}]);return t}(Emitter);Dropzone.initClass();Dropzone.version='5.2.0';Dropzone.options={};Dropzone.optionsForElement=function(e){if(e.getAttribute('id')){return Dropzone.options[camelize(e.getAttribute('id'))]}
else{return undefined}};Dropzone.instances=[];Dropzone.forElement=function(e){if(typeof e==='string'){e=document.querySelector(e)};if((e!=null?e.dropzone:undefined)==null){throw new Error('No Dropzone found for given element. This is probably because you\'re trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.')};return e.dropzone};Dropzone.autoDiscover=!0;Dropzone.discover=function(){var e=void 0;if(document.querySelectorAll){e=document.querySelectorAll('.dropzone')}
else{e=[];var t=function(t){return function(){var a=[];for(var i=t,l=!0,n=0,i=l?i:i[Symbol.iterator]();;){var r;if(l){if(n>=i.length)break;r=i[n++]}
else{n=i.next();if(n.done)break;r=n.value};var o=r;if(/(^| )dropzone($| )/.test(o.className)){a.push(e.push(o))}
else{a.push(undefined)}};return a}()};t(document.getElementsByTagName('div'));t(document.getElementsByTagName('form'))};return function(){var r=[];for(var t=e,o=!0,i=0,t=o?t:t[Symbol.iterator]();;){var n;if(o){if(i>=t.length)break;n=t[i++]}
else{i=t.next();if(i.done)break;n=i.value};var a=n;if(Dropzone.optionsForElement(a)!==!1){r.push(new Dropzone(a))}
else{r.push(undefined)}};return r}()};Dropzone.blacklistedBrowsers=[/opera.*(Macintosh|Windows Phone).*version\/12/i];Dropzone.isBrowserSupported=function(){var i=!0;if(window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector){if(!('classList' in document.createElement('a'))){i=!1}
else{for(var e=Dropzone.blacklistedBrowsers,r=!0,t=0,e=r?e:e[Symbol.iterator]();;){var n;if(r){if(t>=e.length)break;n=e[t++]}
else{t=e.next();if(t.done)break;n=t.value};var a=n;if(a.test(navigator.userAgent)){i=!1;continue}}}}
else{i=!1};return i};Dropzone.dataURItoBlob=function(e){var n=atob(e.split(',')[1]),o=e.split(',')[0].split(':')[1].split(';')[0],a=new ArrayBuffer(n.length),l=new Uint8Array(a);for(var t=0,i=n.length,r=0<=i;r?t<=i:t>=i;r?t++:t--){l[t]=n.charCodeAt(t)};return new Blob([a],{type:o})};var without=function(e,t){return e.filter(function(e){return e!==t}).map(function(e){return e})},camelize=function(e){return e.replace(/[\-_](\w)/g,function(e){return e.charAt(1).toUpperCase()})};Dropzone.createElement=function(e){var t=document.createElement('div');t.innerHTML=e;return t.childNodes[0]};Dropzone.elementInside=function(e,t){if(e===t){return!0}
while(e=e.parentNode){if(e===t){return!0}};return!1};Dropzone.getElement=function(e,t){var i=void 0;if(typeof e==='string'){i=document.querySelector(e)}
else if(e.nodeType!=null){i=e};if(i==null){throw new Error('Invalid `'+t+'` option provided. Please provide a CSS selector or a plain HTML element.')};return i};Dropzone.getElements=function(e,t){var a=void 0,i=void 0;if(e instanceof Array){i=[];try{for(var r=e,d=!0,l=0,r=d?r:r[Symbol.iterator]();;){if(d){if(l>=r.length)break;a=r[l++]}
else{l=r.next();if(l.done)break;a=l.value};i.push(this.getElement(a,t))}}catch(s){i=null}}
else if(typeof e==='string'){i=[];for(var n=document.querySelectorAll(e),u=!0,o=0,n=u?n:n[Symbol.iterator]();;){if(u){if(o>=n.length)break;a=n[o++]}
else{o=n.next();if(o.done)break;a=o.value};i.push(a)}}
else if(e.nodeType!=null){i=[e]};if(i==null||!i.length){throw new Error('Invalid `'+t+'` option provided. Please provide a CSS selector, a plain HTML element or a list of those.')};return i};Dropzone.confirm=function(e,t,i){if(window.confirm(e)){return t()}
else if(i!=null){return i()}};Dropzone.isValidFile=function(e,t){if(!t){return!0};t=t.split(',');var l=e.type,s=l.replace(/\/.*$/,'');for(var n=t,o=!0,r=0,n=o?n:n[Symbol.iterator]();;){var a;if(o){if(r>=n.length)break;a=n[r++]}
else{r=n.next();if(r.done)break;a=r.value};var i=a;i=i.trim();if(i.charAt(0)==='.'){if(e.name.toLowerCase().indexOf(i.toLowerCase(),e.name.length-i.length)!==-1){return!0}}
else if(/\/\*$/.test(i)){if(s===i.replace(/\/.*$/,'')){return!0}}
else{if(l===i){return!0}}};return!1};if(typeof jQuery!=='undefined'&&jQuery!==null){jQuery.fn.dropzone=function(e){return this.each(function(){return new Dropzone(this,e)})}};if(typeof module!=='undefined'&&module!==null){module.exports=Dropzone}
else{window.Dropzone=Dropzone};Dropzone.ADDED='added';Dropzone.QUEUED='queued';Dropzone.ACCEPTED=Dropzone.QUEUED;Dropzone.UPLOADING='uploading';Dropzone.PROCESSING=Dropzone.UPLOADING;Dropzone.CANCELED='canceled';Dropzone.ERROR='error';Dropzone.SUCCESS='success';var detectVerticalSquash=function(e){var c=e.naturalWidth,i=e.naturalHeight,r=document.createElement('canvas');r.width=1;r.height=i;var l=r.getContext('2d');l.drawImage(e,0,0);var u=l.getImageData(1,0,1,i),d=u.data,n=0,o=i,t=i;while(t>n){var s=d[(t-1)*4+3];if(s===0){o=t}
else{n=t};t=o+n>>1};var a=t/i;if(a===0){return 1}
else{return a}},drawImageIOSFix=function(e,t,i,n,r,a,o,l,s,u){var d=detectVerticalSquash(t);return e.drawImage(t,i,n,r,a,o,l,s,u/d)},ExifRestore=function(){function e(){_classCallCheck(this,e)};_createClass(e,null,[{key:'initClass',value:function(){this.KEY_STR='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/='}},{key:'encode64',value:function(e){var l='',r=undefined,t=undefined,i='',s=undefined,u=undefined,a=undefined,n='',o=0;while(!0){r=e[o++];t=e[o++];i=e[o++];s=r>>2;u=(r&3)<<4|t>>4;a=(t&15)<<2|i>>6;n=i&63;if(isNaN(t)){a=n=64}
else if(isNaN(i)){n=64};l=l+this.KEY_STR.charAt(s)+this.KEY_STR.charAt(u)+this.KEY_STR.charAt(a)+this.KEY_STR.charAt(n);r=t=i='';s=u=a=n='';if(!(o<e.length)){break}};return l}},{key:'restore',value:function(e,t){if(!e.match('data:image/jpeg;base64,')){return t};var i=this.decode64(e.replace('data:image/jpeg;base64,','')),n=this.slice2Segments(i),r=this.exifManipulation(t,n);return'data:image/jpeg;base64,'+this.encode64(r)}},{key:'exifManipulation',value:function(e,t){var i=this.getExifArray(t),n=this.insertExif(e,i),r=new Uint8Array(n);return r}},{key:'getExifArray',value:function(e){var t=undefined,i=0;while(i<e.length){t=e[i];if(t[0]===255&t[1]===225){return t};i++};return[]}},{key:'insertExif',value:function(e,t){var a=e.replace('data:image/jpeg;base64,',''),n=this.decode64(a),r=n.indexOf(255,3),o=n.slice(0,r),l=n.slice(r),i=o;i=i.concat(t);i=i.concat(l);return i}},{key:'slice2Segments',value:function(e){var t=0,r=[];while(!0){var n;if(e[t]===255&e[t+1]===218){break};if(e[t]===255&e[t+1]===216){t+=2}
else{n=e[t+2]*256+e[t+3];var i=t+n+2,a=e.slice(t,i);r.push(a);t=i};if(t>e.length){break}};return r}},{key:'decode64',value:function(e){var c='',o=undefined,l=undefined,s='',u=undefined,n=undefined,t=undefined,r='',i=0,a=[],d=/[^A-Za-z0-9\+\/\=]/g;if(d.exec(e)){console.warn('There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, \'+\', \'/\',and \'=\'\nExpect errors in decoding.')};e=e.replace(/[^A-Za-z0-9\+\/\=]/g,'');while(!0){u=this.KEY_STR.indexOf(e.charAt(i++));n=this.KEY_STR.indexOf(e.charAt(i++));t=this.KEY_STR.indexOf(e.charAt(i++));r=this.KEY_STR.indexOf(e.charAt(i++));o=u<<2|n>>4;l=(n&15)<<4|t>>2;s=(t&3)<<6|r;a.push(o);if(t!==64){a.push(l)};if(r!==64){a.push(s)};o=l=s='';u=n=t=r='';if(!(i<e.length)){break}};return a}}]);return e}();ExifRestore.initClass();var contentLoaded=function(e,t){var l=!1,s=!0,i=e.document,u=i.documentElement,o=i.addEventListener?'addEventListener':'attachEvent',d=i.addEventListener?'removeEventListener':'detachEvent',n=i.addEventListener?'':'on',r=function p(r){if(r.type==='readystatechange'&&i.readyState!=='complete'){return}(r.type==='load'?e:i)[d](n+r.type,p,!1);if(!l&&(l=!0)){return t.call(e,r.type||r)}},c=function f(){try{u.doScroll('left')}catch(e){setTimeout(f,50);return};return r('poll')};if(i.readyState!=='complete'){if(i.createEventObject&&u.doScroll){try{s=!e.frameElement}catch(a){};if(s){c()}};i[o](n+'DOMContentLoaded',r,!1);i[o](n+'readystatechange',r,!1);return e[o](n+'load',r,!1)}};Dropzone._autoDiscoverFunction=function(){if(Dropzone.autoDiscover){return Dropzone.discover()}};contentLoaded(window,Dropzone._autoDiscoverFunction);function __guard__(e,t){return typeof e!=='undefined'&&e!==null?t(e):undefined};function __guardMethod__(e,t,i){if(typeof e!=='undefined'&&e!==null&&typeof e[t]==='function'){return i(e,t)}
else{return undefined}};