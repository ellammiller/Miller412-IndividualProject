/*! 
 * jQuery Steps v1.1.0 - 09/04/2014
 * Copyright (c) 2014 Rafael Staib (http://www.jquery-steps.com)
 * Licensed under MIT http://www.opensource.org/licenses/MIT
 */
;(function(e,n){e.fn.extend({_aria:function(e,n){return this.attr('aria-'+e,n)},_removeAria:function(e){return this.removeAttr('aria-'+e)},_enableAria:function(e){return(e==null||e)?this.removeClass('disabled')._aria('disabled','false'):this.addClass('disabled')._aria('disabled','true')},_showAria:function(e){return(e==null||e)?this.show()._aria('hidden','false'):this.hide()._aria('hidden','true')},_selectAria:function(e){return(e==null||e)?this.addClass('current')._aria('selected','true'):this.removeClass('current')._aria('selected','false')},_id:function(e){return(e)?this.attr('id',e):this.attr('id')}});if(!String.prototype.format){String.prototype.format=function(){var r=(arguments.length===1&&e.isArray(arguments[0]))?arguments[0]:arguments,t=this;for(var n=0;n<r.length;n++){var a=new RegExp('\\{'+n+'\\}','gm');t=t.replace(a,r[n])};return t}};var v=0,T='jQu3ry_5teps_St@te_',m='-t-',d='-p-',u='-h-',g='Index out of range.',S='One or more corresponding step {0} are missing.';function P(e,n){c(e).push(n)};function U(t,i,o){var l=t.children(i.headerTag),u=t.children(i.bodyTag);if(l.length>u.length){a(S,'contents')}
else if(l.length<u.length){a(S,'titles')};var c=i.startIndex;o.stepCount=l.length;if(i.saveState&&e.cookie){var p=e.cookie(T+s(t)),d=parseInt(p,0);if(!isNaN(d)&&d<o.stepCount){c=d}};o.currentIndex=c;l.each(function(a){var l=e(this),i=u.eq(a),s=i.data('mode'),o=(s==null)?r.html:f(r,(/^\s*$/.test(s)||isNaN(s))?s:parseInt(s,0)),d=(o===r.html||i.data('url')===n)?'':i.data('url'),c=(o!==r.html&&i.data('loaded')==='1'),p=e.extend({},k,{title:l.html(),content:(o===r.html)?i.html():'',contentUrl:d,contentMode:o,contentLoaded:c});P(t,p)})};function j(e){e.triggerHandler('canceled')};function z(e,n){return e.currentIndex-n};function Q(n,t){var s=C(n);n.unbind(s).removeData('uid').removeData('options').removeData('state').removeData('steps').removeData('eventNamespace').find('.actions a').unbind(s);n.removeClass(t.clearFixCssClass+' vertical');var i=n.find('.content > *');i.removeData('loaded').removeData('mode').removeData('url');i.removeAttr('id').removeAttr('role').removeAttr('tabindex').removeAttr('class').removeAttr('style')._removeAria('labelledby')._removeAria('hidden');n.find('.content > [data-mode=\'async\'],.content > [data-mode=\'iframe\']').empty();var r=e('<{0} class="{1}"></{0}>'.format(n.get(0).tagName,n.attr('class'))),a=n._id();if(a!=null&&a!==''){r._id(a)};r.html(n.find('.content').html());n.after(r);n.remove();return r};function q(e,n){var t=e.find('.steps li').eq(n.currentIndex);if(e.triggerHandler('finishing',[n.currentIndex])){t.addClass('done').removeClass('error');e.triggerHandler('finished',[n.currentIndex])}
else{t.addClass('error')}};function C(e){var n=e.data('eventNamespace');if(n==null){n='.'+s(e);e.data('eventNamespace',n)};return n};function l(e,n){var t=s(e);return e.find('#'+t+m+n)};function b(e,n){var t=s(e);return e.find('#'+t+d+n)};function K(e,n){var t=s(e);return e.find('#'+t+u+n)};function i(e){return e.data('options')};function t(e){return e.data('state')};function c(e){return e.data('steps')};function x(e,n){var t=c(e);if(n<0||n>=t.length){a(g)};return t[n]};function s(e){var n=e.data('uid');if(n==null){n=e._id();if(n==null){n='steps-uid-'.concat(v);e._id(n)};v++;e.data('uid',n)};return n};function f(e,t){B('enumType',e);B('keyOrValue',t);if(typeof t==='string'){var r=e[t];if(r===n){a('The enum key \'{0}\' does not exist.',t)};return r}
else if(typeof t==='number'){for(var i in e){if(e[i]===t){return t}};a('Invalid enum value \'{0}\'.',t)}
else{a('Invalid key or value type.')}};function I(e,n,t){return M(e,n,t,V(t,1))};function y(e,n,t){return M(e,n,t,z(t,1))};function R(e,n,t,r){if(r<0||r>=t.stepCount){a(g)};if(n.forceMoveForward&&r<t.currentIndex){return};var i=t.currentIndex;if(e.triggerHandler('stepChanging',[t.currentIndex,r])){t.currentIndex=r;F(e,n,t);A(e,n,t,i);p(e,n,t);E(e,n,t);le(e,n,t,r,i,function(){e.triggerHandler('stepChanged',[r,i])})}
else{e.find('.steps li').eq(i).addClass('error')};return!0};function V(e,n){return e.currentIndex+n};function W(n){var t=e.extend(!0,{},H,n);return this.each(function(){var n=e(this),r={currentIndex:t.startIndex,currentStep:null,stepCount:0,transitionElement:null};n.data('options',t);n.data('state',r);n.data('steps',[]);U(n,t,r);se(n,t,r);re(n,t);if(t.autoFocus&&v===0){l(n,t.startIndex).focus()};n.triggerHandler('init',[t.startIndex])})};function D(n,t,i,s,o){if(s<0||s>i.stepCount){a(g)};o=e.extend({},k,o);ee(n,s,o);if(i.currentIndex!==i.stepCount&&i.currentIndex>=s){i.currentIndex++;F(n,t,i)};i.stepCount++;var u=n.find('.content'),d=e('<{0}>{1}</{0}>'.format(t.headerTag,o.title)),l=e('<{0}></{0}>'.format(t.bodyTag));if(o.contentMode==null||o.contentMode===r.html){l.html(o.content)};if(s===0){u.prepend(l).prepend(d)}
else{b(n,(s-1)).after(l).after(d)};L(n,i,l,s);O(n,t,i,d,s);N(n,t,i,s);if(s===i.currentIndex){A(n,t,i)};p(n,t,i);return n};function ee(e,n,t){c(e).splice(n,0,t)};function ne(n){var r=e(this),a=i(r),o=t(r);if(a.suppressPaginationOnFocus&&r.find(':focus').is(':input')){n.preventDefault();return!1};var s={left:37,right:39};if(n.keyCode===s.left){n.preventDefault();y(r,a,o)}
else if(n.keyCode===s.right){n.preventDefault();I(r,a,o)}};function E(n,t,a){if(a.stepCount>0){var s=a.currentIndex,i=x(n,s);if(!t.enableContentCache||!i.contentLoaded){switch(f(r,i.contentMode)){case r.iframe:n.find('.content > .body').eq(a.currentIndex).empty().html('<iframe src="'+i.contentUrl+'" frameborder="0" scrolling="no" />').data('loaded','1');break;case r.async:var o=b(n,s)._aria('busy','true').empty().append(w(t.loadingTemplate,{text:t.labels.loading}));e.ajax({url:i.contentUrl,cache:!1}).done(function(e){o.empty().html(e)._aria('busy','false').data('loaded','1');n.triggerHandler('contentLoaded',[s])});break}}}};function M(e,n,t,r){var o=t.currentIndex;if(r>=0&&r<t.stepCount&&!(n.forceMoveForward&&r<t.currentIndex)){var i=l(e,r),a=i.parent(),s=a.hasClass('disabled');a._enableAria();i.click();if(o===t.currentIndex&&s){a._enableAria(!1);return!1};return!0};return!1};function te(n){n.preventDefault();var s=e(this),r=s.parent().parent().parent().parent(),o=i(r),a=t(r),l=s.attr('href');switch(l.substring(l.lastIndexOf('#')+1)){case'cancel':j(r);break;case'finish':q(r,a);break;case'next':I(r,o,a);break;case'previous':y(r,o,a);break}};function p(e,n,t){if(n.enablePagination){var r=e.find('.actions a[href$=\'#finish\']').parent(),a=e.find('.actions a[href$=\'#next\']').parent();if(!n.forceMoveForward){var i=e.find('.actions a[href$=\'#previous\']').parent();i._enableAria(t.currentIndex>0)};if(n.enableFinishButton&&n.showFinishButtonAlways){r._enableAria(t.stepCount>0);a._enableAria(t.stepCount>1&&t.stepCount>(t.currentIndex+1))}
else{r._showAria(n.enableFinishButton&&t.stepCount===(t.currentIndex+1));a._showAria(t.stepCount===0||t.stepCount>(t.currentIndex+1))._enableAria(t.stepCount>(t.currentIndex+1)||!n.enableFinishButton)}}};function A(n,t,r,a){var s=l(n,r.currentIndex),o=e('<span class="current-info audible">'+t.labels.current+' </span>'),d=n.find('.content > .title');if(a!=null){var i=l(n,a);i.parent().addClass('done').removeClass('error')._selectAria(!1);d.eq(a).removeClass('current').next('.body').removeClass('current');o=i.find('.current-info');s.focus()};s.prepend(o).parent()._selectAria().removeClass('done')._enableAria();d.eq(r.currentIndex).addClass('current').next('.body').addClass('current')};function N(e,n,t,r){var o=s(e);for(var a=r;a<t.stepCount;a++){var c=o+m+a,l=o+d+a,i=o+u+a,f=e.find('.title').eq(a)._id(i);e.find('.steps a').eq(a)._id(c)._aria('controls',l).attr('href','#'+i).html(w(n.titleTemplate,{index:a+1,title:f.html()}));e.find('.body').eq(a)._id(l)._aria('labelledby',i)}};function re(e,n){var t=C(e);e.bind('canceled'+t,n.onCanceled);e.bind('contentLoaded'+t,n.onContentLoaded);e.bind('finishing'+t,n.onFinishing);e.bind('finished'+t,n.onFinished);e.bind('init'+t,n.onInit);e.bind('stepChanging'+t,n.onStepChanging);e.bind('stepChanged'+t,n.onStepChanged);if(n.enableKeyNavigation){e.bind('keyup'+t,ne)};e.find('.actions a').bind('click'+t,te)};function ae(e,n,t,r){if(r<0||r>=t.stepCount||t.currentIndex===r){return!1};ie(e,r);if(t.currentIndex>r){t.currentIndex--;F(e,n,t)};t.stepCount--;K(e,r).remove();b(e,r).remove();l(e,r).parent().remove();if(r===0){e.find('.steps li').first().addClass('first')};if(r===t.stepCount){e.find('.steps li').eq(r).addClass('last')};N(e,n,t,r);p(e,n,t);return!0};function ie(e,n){c(e).splice(n,1)};function se(n,t,r){var i='<{0} class="{1}">{2}</{0}>',s=f(h,t.stepsOrientation),o=(s===h.vertical)?' vertical':'',a=e(i.format(t.contentContainerTag,'content '+t.clearFixCssClass,n.html())),l=e(i.format(t.stepsContainerTag,'steps '+t.clearFixCssClass,'<ul role="tablist"></ul>')),d=a.children(t.headerTag),u=a.children(t.bodyTag);n.attr('role','application').empty().append(l).append(a).addClass(t.cssClass+' '+t.clearFixCssClass+o);u.each(function(t){L(n,r,e(this),t)});d.each(function(a){O(n,t,r,e(this),a)});A(n,t,r);oe(n,t,r)};function L(e,n,t,r){var a=s(e),i=a+d+r,o=a+u+r;t._id(i).attr('role','tabpanel')._aria('labelledby',o).addClass('body')._showAria(n.currentIndex===r)};function oe(e,n,t){if(n.enablePagination){var i='<{0} class="actions {1}"><ul role="menu" aria-label="{2}">{3}</ul></{0}>',a='<li><a href="#{0}" role="menuitem">{1}</a></li>',r='';if(!n.forceMoveForward){r+=a.format('previous',n.labels.previous)};r+=a.format('next',n.labels.next);if(n.enableFinishButton){r+=a.format('finish',n.labels.finish)};if(n.enableCancelButton){r+=a.format('cancel',n.labels.cancel)};e.append(i.format(n.actionContainerTag,n.clearFixCssClass,n.labels.pagination,r));p(e,n,t);E(e,n,t)}};function w(e,t){var o=e.match(/#([a-z]*)#/gi);for(var s=0;s<o.length;s++){var r=o[s],i=r.substring(1,r.length-1);if(t[i]===n){a('The key \'{0}\' does not exist in the substitute collection!',i)};e=e.replace(r,t[i])};return e};function O(n,t,r,i,a){var c=s(n),p=c+m+a,h=c+d+a,f=c+u+a,l=n.find('.steps > ul'),v=w(t.titleTemplate,{index:a+1,title:i.html()}),o=e('<li role="tab"><a id="'+p+'" href="#'+f+'" aria-controls="'+h+'">'+v+'</a></li>');o._enableAria(t.enableAllSteps||r.currentIndex>a);if(r.currentIndex>a){o.addClass('done')};i._id(f).attr('tabindex','-1').addClass('title');if(a===0){l.prepend(o)}
else{l.find('li').eq(a-1).after(o)};if(a===0){l.find('li').removeClass('first').eq(a).addClass('first')};if(a===(r.stepCount-1)){l.find('li').removeClass('last').eq(a).addClass('last')};o.children('a').bind('click'+C(n),de)};function F(n,t,r){if(t.saveState&&e.cookie){e.cookie(T+s(n),r.currentIndex)}};function le(n,r,a,i,s,c){var v=n.find('.content > .body'),p=f(o,r.transitionEffect),d=r.transitionEffectSpeed,h=v.eq(i),u=v.eq(s);switch(p){case o.fade:case o.slide:var C=(p===o.fade)?'fadeOut':'slideUp',b=(p===o.fade)?'fadeIn':'slideDown';a.transitionElement=h;u[C](d,function(){var r=e(this)._showAria(!1).parent().parent(),n=t(r);if(n.transitionElement){n.transitionElement[b](d,function(){e(this)._showAria()}).promise().done(c);n.transitionElement=null}});break;case o.slideLeft:var l=u.outerWidth(!0),m=(i>s)?-(l):l,g=(i>s)?l:-(l);e.when(u.animate({left:m},d,function(){e(this)._showAria(!1)}),h.css('left',g+'px')._showAria().animate({left:0},d)).done(c);break;default:e.when(u._showAria(!1),h._showAria()).done(c);break}};function de(n){n.preventDefault();var a=e(this),r=a.parent().parent().parent().parent(),c=i(r),s=t(r),d=s.currentIndex;if(a.parent().is(':not(.disabled):not(.current)')){var o=a.attr('href'),u=parseInt(o.substring(o.lastIndexOf('-')+1),0);R(r,c,s,u)};if(d===s.currentIndex){l(r,d).focus();return!1}};function a(e){if(arguments.length>1){e=e.format(Array.prototype.slice.call(arguments,1))};throw new Error(e)};function B(e,n){if(n==null){a('The argument \'{0}\' is null or undefined.',e)}};e.fn.steps=function(n){if(e.fn.steps[n]){return e.fn.steps[n].apply(this,Array.prototype.slice.call(arguments,1))}
else if(typeof n==='object'||!n){return W.apply(this,arguments)}
else{e.error('Method '+n+' does not exist on jQuery.steps')}};e.fn.steps.add=function(e){var n=t(this);return D(this,i(this),n,n.stepCount,e)};e.fn.steps.destroy=function(){return Q(this,i(this))};e.fn.steps.finish=function(){q(this,t(this))};e.fn.steps.getCurrentIndex=function(){return t(this).currentIndex};e.fn.steps.getCurrentStep=function(){return x(this,t(this).currentIndex)};e.fn.steps.getStep=function(e){return x(this,e)};e.fn.steps.insert=function(e,n){return D(this,i(this),t(this),e,n)};e.fn.steps.next=function(){return I(this,i(this),t(this))};e.fn.steps.previous=function(){return y(this,i(this),t(this))};e.fn.steps.remove=function(e){return ae(this,i(this),t(this),e)};e.fn.steps.setStep=function(e,n){throw new Error('Not yet implemented!')};e.fn.steps.skip=function(e){throw new Error('Not yet implemented!')};var r=e.fn.steps.contentMode={html:0,iframe:1,async:2};var h=e.fn.steps.stepsOrientation={horizontal:0,vertical:1};var o=e.fn.steps.transitionEffect={none:0,fade:1,slide:2,slideLeft:3};var k=e.fn.steps.stepModel={title:'',content:'',contentUrl:'',contentMode:r.html,contentLoaded:!1};var H=e.fn.steps.defaults={headerTag:'h1',bodyTag:'div',contentContainerTag:'div',actionContainerTag:'div',stepsContainerTag:'div',cssClass:'wizard',clearFixCssClass:'clearfix',stepsOrientation:h.horizontal,titleTemplate:'<span class="number">#index#.</span> #title#',loadingTemplate:'<span class="spinner"></span> #text#',autoFocus:!1,enableAllSteps:!1,enableKeyNavigation:!0,enablePagination:!0,suppressPaginationOnFocus:!0,enableContentCache:!0,enableCancelButton:!1,enableFinishButton:!0,preloadContent:!1,showFinishButtonAlways:!1,forceMoveForward:!1,saveState:!1,startIndex:0,transitionEffect:o.none,transitionEffectSpeed:200,onStepChanging:function(e,n,t){return!0},onStepChanged:function(e,n,t){},onCanceled:function(e){},onFinishing:function(e,n){return!0},onFinished:function(e,n){},onContentLoaded:function(e,n){},onInit:function(e,n){},labels:{cancel:'Cancel',current:'current step:',pagination:'Pagination',finish:'Finish',next:'Next',previous:'Previous',loading:'Loading ...'}}})(jQuery);